<!-- every page is already in a container from application.html.erb -->

<div class='d-flex justify-content-between my-4 '>
  <h1>Your Classes</h1>

  <button class="btn btn-sammi" type="button" data-toggle="modal" data-target="#exampleModal">
    Add new class
  </button>

  <!-- Modal -->
  <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content" style='border-radius:10px'>
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">New Class</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <%= render 'shared/new_class' %>
        </div>
      </div>
    </div>
  </div>
</div>
<div class='row'>

    <% @emotions_hash.each do |subject| %>
      <div class='col-12 col-lg-6'>
        <%= link_to subject_path(subject[0]) do %>

          <div class="card-subjects">
            <img src='<%= asset_path(Subject.find(subject[0]).photo) %>'/>
            <div class="card-subjects-infos">
              <h2><%= Subject.find(subject[0]).name %></h2>

              <% if Subject.find(subject[0]).class_members.length > 0 %>
                <div class='d-flex justify-content-between'>
                    <p><%= Subject.find(subject[0]).class_members.length %> students</p>
                    <p id='emotion'><%= Emotion.find(@hsh[subject[0]]).rating %>

                </div>
                <br>
                <div class="progress">
                  <div class="progress-bar" role="progressbar" style="background-color: <%= Emotion.first.color %>;width: <%= subject[1][1] ? subject[1][1] * 100 : 0 %>%" aria-valuenow="<%= subject[1][1] ? subject[1][1] * 100 : 0 %>" aria-valuemin="0" aria-valuemax="100" data-toggle='tooltip' data-placement="top" title="<%= Emotion.first.rating %>"></div>
                  <div class="progress-bar" role="progressbar" style="background-color: <%= Emotion.second.color %>; width: <%= subject[1][2] ? subject[1][2] * 100 : 0 %>%" aria-valuenow="<%= subject[1][2] ? subject[1][2] * 100 : 0 %>" aria-valuemin="0" aria-valuemax="100" data-toggle='tooltip' data-placement="top" title="<%= Emotion.second.rating %>"></div>
                  <div class="progress-bar" role="progressbar" style="background-color: <%= Emotion.third.color %>; width: <%= subject[1][3] ? subject[1][3] * 100 : 0 %>%" aria-valuenow="<%= subject[1][3] ? subject[1][3] * 100 : 0 %>" aria-valuemin="0" aria-valuemax="100" data-toggle='tooltip' data-placement="top" title="<%= Emotion.third.rating %>"></div>
                  <div class="progress-bar" role="progressbar" style="background-color: <%= Emotion.fourth.color %>; width: <%= subject[1][4] ? subject[1][4] * 100 : 0 %>%" aria-valuenow="<%= subject[1][4] ? subject[1][4] * 100 : 0 %>" aria-valuemin="0" aria-valuemax="100" data-toggle='tooltip' data-placement="top" title="<%= Emotion.fourth.rating %>"></div>
                  <div class="progress-bar" role="progressbar" style="background-color: <%= Emotion.fifth.color %>; width: <%= subject[1][5] ? subject[1][5] * 100 : 0 %>%" aria-valuenow="<%= subject[1][5] ? subject[1][5] * 100 : 0 %>" aria-valuemin="0" aria-valuemax="100" data-toggle='tooltip' data-placement="top" title="<%= Emotion.fifth.rating %>"></div>
                </div>

              <% end %>
            </div>
          </div>
        <% end %>
      </div>
    <% end %>

</div>
